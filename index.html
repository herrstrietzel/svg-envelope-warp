<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>warp svg 3.5</title>
    <link rel="stylesheet" href="demo/css/style.css">

    <!-- UI -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/enhance-inputs@0.1.7/dist/enhanceInputs.min.css">
    <script src="https://cdn.jsdelivr.net/npm/enhance-inputs@0.1.7/dist/enhanceInputs.min.js" defer></script>



    <!--warp js -->
    <script src="https://cdn.jsdelivr.net/npm/warpjs@1.0.8/dist/warp.min.js" defer></script>


    <!-- warp envelope helper-->
    <script src="dist/svg-envelope-warp.min.js" defer></script>


    <!-- UI -->
    <script src="demo/js/warp_ui.js" defer></script>
    <script src="demo/js/warp_ui_drag.js" defer></script>
    <script src="demo/js/app.js" defer></script>




</head>

<body>





    <main data-enhance-inputs='{"storageName":"warpjs","cacheToStorage":true}'>


        <article class="grd grd-1 grd-md-5">

            <div class="col aside scrollbar scroll-content pdd-1em">

                <header>
                    <h1>SVG envelope hull distortion</h1>
                    <p>Distort SVG shapes with <a href="https://github.com/benjamminf/warpjs">warp.js</a></p>
                    <p>Based on Benjamin Fleming's <a href="https://codepen.io/benjamminf/pen/LLmrKN">codepen</a>. See
                        also <a href="https://github.com/benjamminf/warpjs/issues/11">github issue "Warping arbitrary
                            coordinates?#11"</a></p>

                </header>

                <label for="svgIn">SVG input </label>
                <textarea id="svgIn" name="svgIn" class="txt-sml code" data-tools="size copy upload download" allow=".svg"><svg  viewBox="0 0 600 300">
                            <path 
                                d="m 170 70 l -16.9 75.1 l -19.2 -75.1 l -22.3 0 l -19.2 75.1 l -17 -75.1 l -32.6 0 l 32.2 112.6 l 30.7 0 l 17 -70.5 l 17.1 70.5 l 30.7 0 l 32.2 -112.6 l -32.7 0 z m 65.1 0 l -42.3 112.5 l 32.9 0 l 5.6 -16.2 l 44.4 0 l 5.6 16.2 l 32.9 0 l -42.5 -112.6 l -36.4 0 z m 3.9 71 l 14.4 -42.4 l 14.4 42.4 l -28.7 0 z m 178.9 -33.6 c 0 -20.9 -14.2 -37.5 -39.2 -37.5 l -56.4 0 l 0 112.6 l 29 0 l 0 -37.8 l 14.9 0 l 18.9 37.8 l 33.2 0 l -22.9 -41.4 c 10.5 -3.7 22.5 -14.2 22.5 -33.8 z m -43.5 12 l -22.9 0 l 0 -24.1 l 22.9 0 c 7.6 0 14 4.4 14 12 c -0 7.9 -6.4 12.1 -14 12.1 z m 115.9 -49.4 l -56.4 0 l 0 112.6 l 29 0 l 0 -37.8 l 27.3 0 c 25.3 0 39.1 -17.1 39.1 -37.3 c -0 -20.4 -13.8 -37.5 -39.1 -37.5 z m -3.9 49.4 l -23.5 0 l 0 -24.1 l 23.5 0 c 7.8 0 13.5 4.4 13.5 12.1 c -0 7.6 -5.8 12 -13.5 12 z"
                                fill="#cccccc" />
                        </svg>
                    </textarea>

                <label for="envelopeSamples" class="--fnt-wgt-700">Envelope samples</label>
                <select name="envelopeSample" id="envelopeSamples">
                    <option value="256.797,376.963 238.633,321.062 286.186,286.513 
            333.739,321.062 315.575,376.963 ">pentagon</option>
                    <option value="0 0 100 0  100 100 0 100">rect hull</option>
                    <option value="100,100 50,100 0,100 0,50 0,0 50,0 100,0 100,50 ">grid</option>
                    <option value="284.699,389.296 262.285,376.355 249.344,353.941 
                                249.344,328.059 262.285,305.645 284.699,292.704 310.581,292.704 332.995,305.645 345.937,328.059 345.937,353.941 
                                332.995,376.355 310.581,389.296">dodecagon</option>
                    <option value="66,420.945 119,339 159,178 283,255 474,240 471,363 398.46,405.061 253,379">
                        Irregular</option>

                    <option
                        value="M79.9-81.5 140.3-129.2 211-159.1 285.9-169.1 360.8-159.1 431.5-129.2 491.9-81.5 536.8-20.7 564.2 49.8 572.1 126.4 572.1 126.4 564.2 202.8 536.8 273.2 491.9 334 431.5 381.7 360.8 411.6 285.9 421.6 211 411.6 140.3 381.7 79.9 334 35 273.2 7.8 202.8 0 126.4 7.8 49.8 35-20.7">
                        Circle Approximation</option>

                    <!-- 
                                -->
                    <option
                        value="52.111,55.777 48.833,55.777 45.574,55.777 42.667,55.777 42.667,57.875 42.667,60.758 42.667,63.281 42.667,65.738 45.515,63.299 48.833,61.495 52.111,60.499 55.625,60.152 55.625,59.059 55.625,57.965 55.625,56.871 55.625,55.777">
                        Arc</option>

                </select>


                <label for="inputEnvelope">Envelope hull polygon</label>

                <textarea id="inputEnvelope" class="txt-sml code" name="envelope" data-tools="size copy">
                    66,420.945 119,339 159,178 283,255 474,240 471,363 398.46,405.061 253,379
                    </textarea>

            </div>

            <!-- output column -->
            <aside class="col aside scrollbar scroll-content pdd-1em">

                <p><button type="button" class="btn-default wdt-100 txt-cnt" id="btnReset" data-icon="arrow-path">Reset
                        Settings</button>
                </p>

                <p>
                    <label><input type="checkbox" name="fitToHull" checked title="fit warped graphic to hull">
                        fitToHull</label>
                    <label><input type="checkbox" name="autoViewBox" title="auto generate viewBox"> autoViewBox</label>

                    <label><input type="checkbox" name="resetHull" title="reset to rectangular hull"> Reset hull</label>

                </p>

                <p>
                    <label>Padding: <input type="number" name="hullPadding" title="add padding" min="0" step="1"
                            value="0"></label>
                </p>

                <label for="svgOut">SVG output </label>
                <textarea id="svgOut" class="txt-sml code" data-tools="size copy download"></textarea>

                <label for="svgPathOut">SVG Path </label>
                <textarea id="svgPathOut" class="txt-sml code" data-tools="size copy download"></textarea>


            </aside>

            <div class="col col-preview spn-auto spn-md-3">
                <div class=" wrap warp-wrap"
                    data-zoom2='{"minScale":0.1,"maxScale":10,"zoom":1,"zoomStep":1.001, "toolbar":true}'>
                    <!-- preview SVG -->
                    <svg id="svgWarp" class="svgPreview" viewBox="0 0 100 100">
                    </svg>

                    <!-- hull -->
                    <svg id="svgControl" class="svgControl" viewBox="0 0 100 100">

                        <polygon id="hullPolyNorm" class="hullNorm" points="0 0 300 0 600 0 600 300  300 300  0 300"
                            stroke="green" fill="transparent" />


                        <g id="gHull">
                            <polygon id="hullPoly" class="hull" points="0 0 300 0 600 0 600 300  300 300  0 300"
                                stroke="black" fill="transparent" />
                        </g>
                        <g id="gHandles"></g>

                    </svg>

                </div>
            </div>




        </article>
    </main>


    <svg id="svgMarkers" style="width:0; height:0; position:absolute; z-index:-1;float:left;">
        <defs>
            <marker class="svgMarker svgMarker-start" id="markerStart" overflow="visible" viewBox="0 0 10 10" refX="5"
                refY="5" markerUnits="strokeWidth" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
                <circle cx="5" cy="5" r="2.5" style="fill:currentColor"></circle>

                <marker class="svgMarker svgMarker-mid" id="markerRound" overflow="visible" viewBox="0 0 10 10" refX="5"
                    refY="5" markerUnits="strokeWidth" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
                    <circle cx="5" cy="5" r="1.25" style="fill:currentColor"></circle>
                </marker>
            </marker>
        </defs>
    </svg>

</body>

</html>